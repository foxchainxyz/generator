(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{263:function(e,t,s){"use strict";s.r(t);s(94),s(24);var a=s(249),o=s(244),n=s(246),i={name:"Generator",mixins:[a.a,o.a],data:()=>({loading:!0,currentNetwork:null,tokenType:"",trx:{hash:"",link:""},transactionStarted:!1,makingTransaction:!1,formDisabled:!1,feeAmount:"0",agreement:"",token:{name:"",symbol:"",decimals:18,cap:"",initialBalance:"",supplyType:"Fixed",accessType:"None",mintable:!1,burnable:!1,operable:!1,tokenRecover:!1,removeCopyright:!1}}),mounted(){this.tokenType=this.getParam("tokenType")||"StandardLEV20",this.currentNetwork=this.getParam("network")||this.network.default,this.initDapp()},methods:{async initDapp(){this.network.current=this.network.list[this.currentNetwork];try{await this.initWeb3(this.currentNetwork,!0),this.initService(this.currentNetwork),await this.loadToken()}catch(e){console.log(e),this.makeToast("Some errors occurred",e,"danger")}},async loadToken(){Object.prototype.hasOwnProperty.call(this.tokenList,this.tokenType)||(this.makeToast("Some errors occurred","Selected token type does not exist!","danger"),this.tokenType="StandardLEV20"),this.initToken(this.tokenType),this.updateTokenDetails(),this.updateSupply(),this.updateCap();try{this.feeAmount=await this.promisify(this.contracts.service.methods.getPrice(this.tokenType).call)}catch(e){console.log(e.message),this.currentNetwork===n.defaultNetwork?this.feeAmount=this.web3.utils.toWei("0","ether"):this.feeAmount=this.web3.utils.toWei(""+this.token.price,"ether")}this.currentNetwork===n.defaultNetwork&&(this.gaSend("ViewContent",this.tokenType,""),this.fbtrack("ViewContent",{content_ids:[this.tokenType],content_type:"product"})),this.loading=!1},async generateToken(){this.$refs.observer.validate().then(async e=>{if(e){if(!this.metamask.installed)return void this.makeToast("Warning","To create a Token please install MetaMask!","danger");if(this.metamask.netId!==this.network.current.id)return void this.makeToast("Warning",`Your MetaMask in on the wrong network. Please switch on ${this.network.current.name} and try again!`,"warning");try{this.trx.hash="",this.trx.link="",this.formDisabled=!0,this.makingTransaction=!0,await this.web3Provider.request({method:"eth_requestAccounts"});const e=new this.web3.eth.Contract(this.contracts.token.abi),t={data:this.contracts.token.bytecode,arguments:this.getDeployArguments()},s={from:await this.promisify(this.web3.eth.getCoinbase),value:this.feeAmount,gasPrice:"10000000000"};s.gas=await this.estimateDeployGas(e,t,s),console.log(await this.estimateDeployGas(e,t,s)),e.deploy(t).send(s).on("error",e=>{console.log(e.message),this.makingTransaction=!1,this.formDisabled=!1,this.makeToast("Error!",e.message,"danger")}).on("transactionHash",e=>{console.log("===== get hash ======"),console.log({tr:e}),this.transactionStarted=!0,this.trx.hash=e,this.trx.link=`${this.network.current.explorerLink}/tx/${this.trx.hash}`,this.currentNetwork===n.defaultNetwork&&(this.gaSend("InitiateCheckout",this.tokenType,this.trx.hash),this.fbtrack("InitiateCheckout"))}).on("receipt",e=>{console.log("======receipt======"),console.log({rcp:e}),this.token.address=e.contractAddress,this.token.link=this.network.current.explorerLink+"/affress/"+this.token.address,this.$forceUpdate(),this.makeToast("Well done!","Your Token has been deployed!","success"),this.currentNetwork===n.defaultNetwork&&(this.gaSend("Purchase",this.tokenType,this.token.address),this.fbtrack("Purchase",{value:this.web3.utils.fromWei(this.feeAmount,"ether"),currency:"EUR",content_ids:[this.tokenType],content_type:"product"}))})}catch(e){this.makingTransaction=!1,this.formDisabled=!1,this.makeToast("Some error occurred",e.message,"danger")}}}).catch(e=>{console.log(e),this.makingTransaction=!1,this.makeToast("Some error occurred",e.message,"danger")})},updateTokenDetails(){const e=this.tokenDetails.find(e=>e.name===this.tokenType);this.token.customizeDecimals=e.customizeDecimals,this.token.verified=e.verified,this.token.supplyType=e.supplyType,this.token.accessType=e.accessType,this.token.mintable=e.mintable,this.token.burnable=e.burnable,this.token.operable=e.operable,this.token.tokenRecover=e.tokenRecover,this.token.removeCopyright=e.removeCopyright,this.token.price=e.price,this.token.gas=this.web3.utils.toBN(e.gas),this.token.decimals=e.customizeDecimals?this.token.decimals:18},updateCap(){this.token.cap=["100k","Fixed"].includes(this.token.supplyType)?this.token.initialBalance:this.token.cap},updateSupply(){this.token.initialBalance="100k"===this.token.supplyType?1e5:this.token.initialBalance},getDeployArguments(){const e=this.token.name,t=this.token.symbol,s=this.web3.utils.toBN(this.token.decimals),a=this.web3.utils.toBN(this.token.cap).mul(this.web3.utils.toBN(Math.pow(10,this.token.decimals))),o=this.web3.utils.toBN(this.token.initialBalance).mul(this.web3.utils.toBN(Math.pow(10,this.token.decimals))),n=[e,t];switch(this.tokenType){case"HelloLEV20":break;case"SimpleLEV20":n.push(o);break;case"StandardLEV20":case"BurnableLEV20":case"UnlimitedLEV20":case"AmazingLEV20":n.push(s),n.push(o);break;case"MintableLEV20":case"CommonLEV20":n.push(s),n.push(a),n.push(o);break;default:throw new Error("Invalid Token Type")}return n.push(this.contracts.service.options.address),n},async estimateDeployGas(e,t,s){try{const a=await this.promisify(e.deploy(t).estimateGas,s);return this.web3.utils.toBN(a).muln(1.3)}catch(e){return console.log(e),this.token.gas}},async addToMetaMask(){try{await this.web3Provider.request({method:"wallet_watchAsset",params:{type:"LEV20",options:{address:this.token.address,symbol:this.token.symbol.substr(0,5),decimals:this.token.decimals}}})}catch(e){console.log(e)}}}},r=s(16),l=Object(r.a)(i,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"jumbotron-container-generator mb-0 wiretap-gradient"},[t("b-jumbotron",{staticStyle:{"background-color":"transparent"},attrs:{"text-variant":"white",fluid:""},scopedSlots:e._u([{key:"lead",fn:function(){return[e._v("\n        Easily deploy Smart Contract for a Standard, Capped, Mintable, Burnable, Payable LEV20 Token on leviatchan\n        Network. No login. No setup. No coding required.\n      ")]},proxy:!0},{key:"header",fn:function(){return[t("b-img",{staticStyle:{"object-fit":"contain",width:"200px"},attrs:{src:"/assets/images/logo_leviathan.svg"}}),e._v(" "),t("h1",[e._v("Create your LEV20 Token")])]},proxy:!0}])})],1),e._v(" "),t("b-row",{staticClass:"mx-0",attrs:{id:"token-generator"}},[t("b-col",{staticClass:"mb-3 p-0",attrs:{lg:"12",xl:"10","offset-xl":"1"}},[e.loading?t("div",{staticClass:"text-center p-5"},[t("ui--loader",{attrs:{loading:!0}})],1):e._e(),e._v(" "),e.loading?e._e():t("b-card",{attrs:{"border-variant":"0"}},[t("b-row",[t("b-col",{staticClass:"box-custom-info",attrs:{cols:"12"}},[t("h3",{staticClass:"h3-box-custom-info"},[e._v("Alert")]),e._v(" "),t("p",{staticClass:"p-box-custom-info"},[e._v("\n              To use this app please install\n              "),t("b-link",{staticStyle:{color:"#e9781b"},attrs:{href:"https://metamask.io/",target:"_blank"}},[e._v("MetaMask")]),e._v(". Use any\n              other wallet at your own risk.\n            ")],1)]),e._v(" "),t("b-col",{staticStyle:{"margin-top":"1%"},attrs:{cols:"12"}},[t("h4",{staticClass:"h4-subtitle",staticStyle:{"text-align":"left"}},[e._v("Token Details")]),e._v(" "),t("p",{staticClass:"p-caption",staticStyle:{"text-align":"left"}},[e._v("Enter token details and choose a network")]),e._v(" "),t("hr",{staticStyle:{background:"#bf217f"}})])],1),e._v(" "),e.makingTransaction||e.transactionStarted?t("b-card",{staticClass:"mt-3",attrs:{header:"Making transaction...","header-bg-variant":"info","header-text-variant":"black"}},[e.trx.hash?t("div",[t("h6",{staticClass:"text-success"},[e._v("Well! Transaction done!")]),e._v(" "),t("span",{staticClass:"text-base-100"},[e._v("Transaction Hash:")]),e._v(" "),t("a",{attrs:{href:e.trx.link,target:"_blank"}},[t("span",{domProps:{innerHTML:e._s(e.trx.hash)}})]),t("br"),e._v(" "),t("hr"),e._v(" "),e.token.address?t("div",[t("h6",{staticClass:"text-info"},[e._v("Your Token:")]),e._v(" "),t("h5",{staticClass:"text-base-100"},[e._v(e._s(e.token.name)+" ("+e._s(e.token.symbol)+")")]),e._v(" "),t("h6",{staticClass:"text-base-200"},[e._v("Address: "+e._s(e.token.address))]),e._v(" "),t("small",{staticClass:"text-muted"},[e._v("Supply: "+e._s(e.token.initialBalance)+" "+e._s(e.token.symbol))]),e._v(" "),t("hr"),e._v(" "),t("b-link",{staticClass:"btn btn-primary my-2",attrs:{href:e.token.link,target:"_blank"}},[t("b-icon-arrow-up-right-circle-fill"),e._v("\n                View on Levccscan\n              ")],1),e._v(" "),t("b-link",{staticClass:"btn btn-success my-2",on:{click:e.addToMetaMask}},[t("b-icon-plus-circle-fill"),e._v("\n                Add to MetaMask\n              ")],1)],1):t("div",[t("h6",{staticClass:"text-base-100"},[e._v("Retrieving Token.")]),e._v(" "),t("p",{staticClass:"text-base-200"},[e._v("Please wait...")]),e._v(" "),t("ui--loader",{attrs:{loading:!0}})],1)]):t("div",[t("p",[e._v("Please wait...")]),e._v(" "),t("ui--loader",{attrs:{loading:!0}})],1)]):e._e(),e._v(" "),e.makingTransaction?e._e():t("ValidationObserver",{ref:"observer",attrs:{tag:"form"},on:{submit:function(t){return t.preventDefault(),e.generateToken()}}},[t("fieldset",{attrs:{disabled:e.formDisabled}},[t("b-row",[t("b-col",{attrs:{md:"4"}},[t("b-form-group",{attrs:{description:"Choose your Token Type.",label:"Choose Token Type *","label-for":"tokenType"}},[t("b-form-select",{staticClass:"select-custom",attrs:{id:"tokenType",size:"sm"},on:{input:e.loadToken},model:{value:e.tokenType,callback:function(t){e.tokenType=t},expression:"tokenType"}},e._l(e.tokenList,(function(s,a){return t("option",{key:s+a,domProps:{value:a}},[e._v("\n                      "+e._s(s.contractName)+"\n                    ")])})),0)],1)],1),e._v(" "),t("b-col",{attrs:{md:"4"}},[t("b-form-group",{attrs:{description:"Choose your Network.",label:"Network *","label-for":"network"}},[t("b-form-select",{staticClass:"select-custom",attrs:{id:"network",size:"sm"},on:{input:e.initDapp},model:{value:e.currentNetwork,callback:function(t){e.currentNetwork=t},expression:"currentNetwork"}},e._l(e.network.list,(function(s,a){return t("option",{key:s+a,domProps:{value:a}},[e._v(e._s(s.name))])})),0)],1)],1),e._v(" "),t("b-col",{attrs:{md:"4"}},[t("b-form-group",{attrs:{description:"",label:"Price","label-for":"price"}},[t("b-form-input",{staticClass:"input-custom",attrs:{value:e.token.price+" LEVCC",id:"price",size:"sm",disabled:""}})],1)],1)],1),e._v(" "),t("b-row",[t("b-col",{attrs:{md:"4"}},[t("ValidationProvider",{attrs:{name:"token name",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("b-form-group",{attrs:{description:"Choose a name for your token.",label:"Token Name *","label-for":"tokenName"}},[t("b-form-input",{staticClass:"input-custom",class:{"is-invalid":s.length>0},attrs:{id:"tokenName",name:"tokenName",placeholder:"e.g. My Token",size:"lg",maxlength:"30"},model:{value:e.token.name,callback:function(t){e.$set(e.token,"name","string"==typeof t?t.trim():t)},expression:"token.name"}}),e._v(" "),t("small",{directives:[{name:"show",rawName:"v-show",value:s.length>0,expression:"errors.length > 0"}],staticClass:"text-danger"},[e._v("\n                      "+e._s(s[0])+"\n                    ")])],1)]}}],null,!1,423353237)}),e._v(" "),t("ValidationProvider",{attrs:{name:"token symbol",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("b-form-group",{attrs:{description:"Choose a symbol for your token (usually 3-5 chars).",label:"Token Symbol *","label-for":"tokenSymbol"}},[t("b-form-input",{staticClass:"input-custom",class:{"is-invalid":s.length>0},attrs:{id:"tokenSymbol",name:"tokenSymbol",placeholder:"e.g. MYT",size:"lg",maxlength:"10"},on:{update:function(t){e.token.symbol=e.token.symbol.toUpperCase()}},model:{value:e.token.symbol,callback:function(t){e.$set(e.token,"symbol","string"==typeof t?t.trim():t)},expression:"token.symbol"}}),e._v(" "),t("small",{directives:[{name:"show",rawName:"v-show",value:s.length>0,expression:"errors.length > 0"}],staticClass:"text-danger"},[e._v("\n                      "+e._s(s[0])+"\n                    ")])],1)]}}],null,!1,2645378906)}),e._v(" "),t("ValidationProvider",{attrs:{name:"token Decimals",rules:{required:!0,numeric:!0,min_value:0,max_value:36}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("b-form-group",{attrs:{description:"Insert the decimal precision of your token. If you don't know what to insert, use 18.",label:"Token decimals *","label-for":"tokenDecimals"}},[t("b-form-input",{staticClass:"input-custom",class:{"is-invalid":s.length>0},attrs:{id:"tokenDecimals",name:"tokenDecimals",placeholder:"Your token decimals",type:"number",disabled:!e.token.customizeDecimals,size:"lg",min:"0",step:"1"},model:{value:e.token.decimals,callback:function(t){e.$set(e.token,"decimals","string"==typeof t?t.trim():t)},expression:"token.decimals"}}),e._v(" "),t("small",{directives:[{name:"show",rawName:"v-show",value:s.length>0,expression:"errors.length > 0"}],staticClass:"text-danger"},[e._v("\n                      "+e._s(s[0])+"\n                    ")])],1)]}}],null,!1,1011635424)}),e._v(" "),t("ValidationProvider",{attrs:{name:"token initial supply",rules:{required:!0,numeric:!0,min_value:"Fixed"===e.token.supplyType?1:0,max_value:1e24}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("b-form-group",{attrs:{description:"Insert the initial number of tokens available. Will be put in your account.",label:"Initial Supply *","label-for":"tokenInitialBalance"}},[t("b-form-input",{staticClass:"input-custom",class:{"is-invalid":s.length>0},attrs:{id:"tokenInitialBalance",name:"tokenInitialBalance",placeholder:"e.g. 21000000",type:"number",size:"lg",disabled:"100k"===e.token.supplyType,min:"0",step:"1"},on:{update:e.updateCap},model:{value:e.token.initialBalance,callback:function(t){e.$set(e.token,"initialBalance","string"==typeof t?t.trim():t)},expression:"token.initialBalance"}}),e._v(" "),t("small",{directives:[{name:"show",rawName:"v-show",value:s.length>0,expression:"errors.length > 0"}],staticClass:"text-danger"},[e._v("\n                      "+e._s(s[0])+"\n                    ")])],1)]}}],null,!1,3306366775)}),e._v(" "),"Unlimited"!==e.token.supplyType?t("ValidationProvider",{attrs:{name:"token max supply",rules:{required:!0,numeric:!0,min_value:e.token.initialBalance>0?e.token.initialBalance:1,max_value:1e24}},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("b-form-group",{attrs:{description:"Insert the maximum number of tokens available.",label:"Max Supply *","label-for":"tokenCap"}},[t("b-form-input",{staticClass:"input-custom",class:{"is-invalid":s.length>0},attrs:{id:"tokenCap",name:"tokenCap",placeholder:"e.g. 21000000",type:"number",size:"lg",disabled:["100k","Fixed"].includes(e.token.supplyType),min:"1",step:"1"},model:{value:e.token.cap,callback:function(t){e.$set(e.token,"cap","string"==typeof t?t.trim():t)},expression:"token.cap"}}),e._v(" "),t("small",{directives:[{name:"show",rawName:"v-show",value:s.length>0,expression:"errors.length > 0"}],staticClass:"text-danger"},[e._v("\n                      "+e._s(s[0])+"\n                    ")])],1)]}}],null,!1,2846708515)}):e._e()],1),e._v(" "),t("b-col",{attrs:{md:"4"}},[t("label",{staticStyle:{"margin-bottom":"18px"},attrs:{for:""}},[e._v("Features")]),e._v(" "),t("b-form-group",{attrs:{description:"The Token can be manually burned to reduce circulating supply."}},[t("b-form-checkbox",{attrs:{size:"sm",disabled:"",switch:""},model:{value:e.token.burnable,callback:function(t){e.$set(e.token,"burnable",t)},expression:"token.burnable"}},[e._v(" Burnable ")])],1),e._v(" "),t("b-form-group",{attrs:{description:"Owner or accounts with minting permission will be able to generate new tokens, up to token max supply, by minting them."}},[t("b-form-checkbox",{attrs:{size:"sm",disabled:"",switch:""},model:{value:e.token.mintable,callback:function(t){e.$set(e.token,"mintable",t)},expression:"token.mintable"}},[e._v(" Mintable ")])],1),e._v(" "),t("b-form-group",{attrs:{description:"The ERC1363 Token is an extension of Smart Contract that can make a callback on the receiver contract to notify token transfers or token approvals."}},[t("b-form-checkbox",{attrs:{size:"sm",disabled:"",switch:""},model:{value:e.token.operable,callback:function(t){e.$set(e.token,"operable",t)},expression:"token.operable"}},[e._v("\n                    Operable\n                  ")])],1),e._v(" "),t("b-form-group",{attrs:{description:"It allows the contract owner to recover any Smart Contract sent into the contract for error."}},[t("b-form-checkbox",{attrs:{size:"sm",disabled:"",switch:""},model:{value:e.token.tokenRecover,callback:function(t){e.$set(e.token,"tokenRecover",t)},expression:"token.tokenRecover"}},[e._v("\n                    Token Recover\n                  ")])],1)],1),e._v(" "),t("b-col",{attrs:{md:"4"}},[t("b-form-group",{attrs:{description:["100k","Fixed","Unlimited","Capped"].join(", "),label:"Supply Type","label-for":"supplyType"}},[t("b-form-select",{staticClass:"select-custom",attrs:{id:"supplyType",disabled:"",size:"sm"},model:{value:e.token.supplyType,callback:function(t){e.$set(e.token,"supplyType",t)},expression:"token.supplyType"}},e._l(["100k","Fixed","Unlimited","Capped"],(function(s){return t("option",{key:s,domProps:{value:s}},[e._v("\n                      "+e._s(s)+"\n                    ")])})),0)],1),e._v(" "),t("b-form-group",{attrs:{description:["None","Ownable","Role Based"].join(", "),label:"Access Type","label-for":"accessType"}},[t("b-form-select",{staticClass:"select-custom",attrs:{id:"accessType",disabled:"",size:"sm"},model:{value:e.token.accessType,callback:function(t){e.$set(e.token,"accessType",t)},expression:"token.accessType"}},e._l(["None","Ownable","Role Based"],(function(s){return t("option",{key:s,domProps:{value:s}},[e._v("\n                      "+e._s(s)+"\n                    ")])})),0)],1),e._v(" "),t("b-form-group",{attrs:{description:["Unstopable","Pausable"].join(", "),label:"Transfer Type","label-for":"transferType"}},[t("b-form-select",{staticClass:"select-custom",attrs:{id:"transferType",disabled:"",size:"sm"}},e._l(["Unstopable","Pausable"],(function(s){return t("option",{key:s,domProps:{value:s}},[e._v("\n                      "+e._s(s)+"\n                    ")])})),0)],1),e._v(" "),t("b-form-group",{attrs:{description:"Token Source Code will be automatically verified on Etherscan. Only available on Mainnet."}},[t("b-form-checkbox",{attrs:{size:"sm",disabled:"",switch:""},model:{value:e.token.verified,callback:function(t){e.$set(e.token,"verified",t)},expression:"token.verified"}},[e._v("\n                    Verified Source Code\n                  ")])],1),e._v(" "),t("b-form-group",{attrs:{description:"Remove the link pointing to this page from Token contract."}},[t("b-form-checkbox",{attrs:{size:"sm",disabled:"",switch:""},model:{value:e.token.removeCopyright,callback:function(t){e.$set(e.token,"removeCopyright",t)},expression:"token.removeCopyright"}},[e._v("\n                    Remove Copyright\n                  ")])],1),e._v(" "),t("div",{staticClass:"custom-control box-custom-info"},[t("input",{attrs:{type:"checkbox",id:"",name:"",value:""}}),e._v(" "),t("small",{staticClass:"p-box-custom-info",attrs:{for:""}},[e._v("I have read, understood and agreed to Token Generator's Terms of Use.")])]),e._v(" "),t("button",{staticClass:"btn-round-full btn primary",staticStyle:{"border-radius":"24px",width:"100%",height:"fit-content","margin-top":"10px"},attrs:{type:"submit"}},[e._v("\n                  Continue\n                ")])],1)],1)],1)])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=l.exports}}]);